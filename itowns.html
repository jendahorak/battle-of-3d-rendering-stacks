<!DOCTYPE html>
<html>
    <head>
        <title>Itowns - 3d-tiles example</title>

        <meta charset="UTF-8">
        <style>
            html { height: 100%; }
            body { margin: 0; overflow: hidden; height: 100%; }
            #viewerDiv { margin: auto; height: 100%; width: 100%; padding: 0; }
            canvas { display: block }
        </style>

    </head>
    <body>
        <div id="viewerDiv"></div>
        <script src="https://www.itowns-project.org/itowns/dist/itowns.js"></script>
        <script type="text/javascript">
            /* global itowns,document,GuiTools*/
            //var positionOnGlobe = { longitude: 9.8184097, latitude: 52.3216892, altitude: 5000 } //hannover
            //var positionOnGlobe = { longitude: 14.8250311, latitude: 50.2915803, altitude: 5000 } //benatky
            var positionOnGlobe = { longitude: 4.3550617, latitude: 50.8424400, altitude: 5000 } //brussel
            // iTowns namespace defined here
            var viewerDiv = document.getElementById('viewerDiv');

            var view = new itowns.GlobeView(viewerDiv, positionOnGlobe);
            view.camera.camera3D.near = 5;

            var orthoSource = new itowns.TMSSource({
                url: 'https://mapserver.mapy.cz/bing/${z}-${x}-${y}',
                name: 'Mapy.cz Ortho',
                isInverted: true, 
                tileMatrixSet: 'PM',
                format: 'image/jpeg',
            });

            var orthoLayer = new itowns.ColorLayer('Ortho', {
                source: orthoSource,
            });

            view.addLayer(orthoLayer);

            // Create a new Layer 3d-tiles For DiscreteLOD
            // -------------------------------------------
            var $3dTilesLayerDiscreteLOD = new itowns.GeometryLayer('3d-tiles-discrete-lod', new itowns.THREE.Group());

            $3dTilesLayerDiscreteLOD.name = 'DiscreteLOD';
            //$3dTilesLayerDiscreteLOD.url = 'https://raw.githubusercontent.com/AnalyticalGraphicsInc/3d-tiles-samples/master/tilesets/TilesetWithDiscreteLOD/tileset.json';
            //$3dTilesLayerDiscreteLOD.url = 'https://cdn.melown.com/3dtiles/melown/hannover-expo/tileset.json';
            //$3dTilesLayerDiscreteLOD.url = 'https://cdn.melown.com/3dtiles/melown/benatky-nad-jizerou/tileset.json';
            3dTilesLayerDiscreteLOD.url = 'https://urbis-3dtiles.irisnet.be/3DTiles/BUILDING/tileset.json'
            $3dTilesLayerDiscreteLOD.protocol = '3d-tiles'
            $3dTilesLayerDiscreteLOD.overrideMaterials = true;  // custom cesium shaders are not functional

            itowns.View.prototype.addLayer.call(view, $3dTilesLayerDiscreteLOD);
         </script>
    </body>
</html>
